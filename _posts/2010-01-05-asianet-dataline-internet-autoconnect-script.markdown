---
layout: post
status: publish
published: true
title: Asianet dataline internet autoconnect script
author: Sarath
author_login: admin
author_email: sarathlakshman@slynux.com
wordpress_id: 410
wordpress_url: http://www.sarathlakshman.com/?p=410
date: 2010-01-05 06:01:56.000000000 +05:30
categories:
- Open Source
- Hacks
tags:
- linux
- internet
- asianet
- automation
- shell script
comments:
- id: 9824
  author: Rohit
  author_email: ss@gmail.com
  author_url: ''
  date: '2010-03-07 02:58:10 +0530'
  date_gmt: '2010-03-07 02:58:10 +0530'
  content: "Thanks\r\n\r\nBtw...wr should i paste the internet.sh file ??"
- id: 10492
  author: Anonymous
  author_email: creeps6@hotmail.com
  author_url: ''
  date: '2011-01-22 20:42:44 +0530'
  date_gmt: '2011-01-22 20:42:44 +0530'
  content: "hey i tried using this script but when i try to connect it returns the
    error \"curl: (7) couldn't connect to host\"\r\ncan you think any possible solution
    for this?"
- id: 10510
  author: Sarath
  author_email: sarathlakshman@slynux.org
  author_url: ''
  date: '2011-02-04 08:26:32 +0530'
  date_gmt: '2011-02-04 08:26:32 +0530'
  content: Please check your connectivity. Especially, if you use any proxy settings.
- id: 10897
  author: Manu
  author_email: mailtomanuml@gmail.com
  author_url: http://www.miraglo.in
  date: '2011-02-19 10:52:48 +0530'
  date_gmt: '2011-02-19 10:52:48 +0530'
  content: "depends on ur region to...\r\nif its trivandrum the url will change to\r\nhttps://mwcp-tvm-04.adlkerala.com:8001/\r\n\r\nThanks
    Sarath :)"
- id: 11408
  author: Shahin
  author_email: shahinmbasheer@gmail.com
  author_url: ''
  date: '2011-05-28 11:23:14 +0530'
  date_gmt: '2011-05-28 11:23:14 +0530'
  content: Where we want to put our username and password
- id: 11570
  author: Manoj
  author_email: eummagic@yahoo.co.in
  author_url: http://eummagic.blogspot.com
  date: '2011-07-17 01:04:49 +0530'
  date_gmt: '2011-07-17 01:04:49 +0530'
  content: "Hi,\r\nFirst of all, my hearty congratulations for your brilliance in
    developing those awesome projects. Hats of to you!!!\r\n   Now coming to this
    Asianet autoscript, can you pls guide me how I should do this on my Win7 64 bit
    OS. Here is a brief of what I do with Asianet Homenet 475 plan during unlimited
    free surfing hours. I open website http://www.livescore.com and this website
    refreshes the page say every 60 seconds showing scores of live soccer games going
    round he clock from the world thus making the internet line active to avoid disconnectivity.
    Until, the clock ticks 2 a.m I use a program called JDownloader which is kept
    running during these time and scheduled to download. \r\n   I also have noticed
    many times that in JDownloader, when I stop downloading and then start again.
    I see a speed tocuhing 10MBPS (i.e 1 Mega Byte as per JDownloader graph shows)
    and then the speed settles down between 450 to 486 KBPS (Kilo Bits Per Second).
    What I want to know, is there a software or hardware that is limiting the actual
    available speed based on the plan we choose by Asianet? I have read in one of
    the forums (link: http://broadbandforum.in/others/16241-asianet-dataline-broadband/9/)
    where the user has mentioned that he had downloading @ 13MBPS on a HOMENET 475
    plan. Could this be really possible? Is there a tweak in modem hardware settings
    that can be controlled by us? Your answers highly appreciated."
- id: 11593
  author: toy
  author_email: b9416358@klzlk.com
  author_url: http://www.google.com
  date: '2011-07-27 18:50:18 +0530'
  date_gmt: '2011-07-27 18:50:18 +0530'
  content: 'Helpfull '
- id: 11638
  author: Deek P
  author_email: noreply67@gmail.com
  author_url: http://www.hatnohat.com
  date: '2011-08-19 15:14:30 +0530'
  date_gmt: '2011-08-19 15:14:30 +0530'
  content: Sweet! Thanks!
- id: 11671
  author: Stefin
  author_email: Stefin.nathan@gmail.com
  author_url: ''
  date: '2011-09-06 18:07:59 +0530'
  date_gmt: '2011-09-06 18:07:59 +0530'
  content: Hi, sarath how can i loggon asainet broadband connection with out using
    username and password
- id: 11687
  author: Nithin
  author_email: coolnithinjp@gmail.com
  author_url: ''
  date: '2011-09-14 07:55:05 +0530'
  date_gmt: '2011-09-14 07:55:05 +0530'
  content: Whr do i paste the internet.sh???
- id: 11806
  author: vishnu
  author_email: vishnuhugz@rocketmail.com
  author_url: ''
  date: '2011-11-23 03:42:31 +0530'
  date_gmt: '2011-11-23 03:42:31 +0530'
  content: guyz am using asianet dataline...unlimited plan the download speed am getting
    is very low only 30kb/s....does any of guys know to increase my download speed...i
    have changed my domain name and other stuff which in various sites said will increase
    the download speed.useless..if anybody knows plzzzzz post.........waitingggg
- id: 12110
  author: eve comay
  author_email: ''
  author_url: http://eventcompanydecor.com/login.php?return=/
  date: '2012-03-28 08:49:19 +0530'
  date_gmt: '2012-03-28 08:49:19 +0530'
  content: |-
    <strong>eve comay...</strong>

    [...]Asianet dataline internet autoconnect script | Sarath Lakshman[...]...
- id: 12485
  author: Nithin Babu
  author_email: nithin@ignytron.com
  author_url: http://www.ignytron.com
  date: '2012-07-06 14:41:50 +0530'
  date_gmt: '2012-07-06 14:41:50 +0530'
  content: "Greetings Sarath,\r\n\r\nThanks for this shell script, I was trying to
    get this done using curl then php-curl and then python all failed well i did get
    to login in all attemts but after some time i got logged out i dont know what
    i was doing wrong just couldnt keep the session alive.I dont know shell scripting
    so can you please tell me how to got it to work with curl. I can see that you
    used curl to keep the connection alive.\r\n\r\nThanks in advance \r\nRegauds Nithin
    Babu"
- id: 14576
  author: ananthu
  author_email: ananthumohan98@gmail.com
  author_url: ''
  date: '2013-01-28 01:01:11 +0530'
  date_gmt: '2013-01-28 01:01:11 +0530'
  content: nice good at work super no1
- id: 17344
  author: sameer
  author_email: samoverg@hotmail.com
  author_url: ''
  date: '2013-07-15 13:13:57 +0530'
  date_gmt: '2013-07-15 13:13:57 +0530'
  content: "Hi,\r\n     When the wifi is connected the login page of the asianet dose
    not connect on my macbook(URL:https://mwcp-tvm-04.adlkerala.com:8001/).
    it opens but dose not connect. where as from my I-phone or I-pad the page opens
    and i am able to login.\r\n\r\nPlease advice.\r\nThank you,\r\nSameer"
---
In my hostel, we use asianet dataline internet connection. The connection is established through a webpage authentication and it needs to keep that webpage always open in the browser to get the stable connection. Once we login and releave that page, after five minutes it will require a re-login. Its a real hurdle to keep a page open in the browser for internet authentication.

I just analyzed the http requests from that page and automated using the curl utility.

Here is the script it feel, it would be useful for many.

<code lang="bash">

#!/bin/bash

customer=CNXXXX
password=XXXXXX

if [ -n "`ifconfig | grep -A 1  wlan0 | grep "inet addr"`" ];
then
 
curl https://mwcp-ekm-04.adlkerala.com:8001 --data "auth_user=$customer&auth_pass=$password&accept=Login" &> /dev/null


echo "Connected :)"

while true
do
	sleep 300
	curl https://mwcp-ekm-04.adlkerala.com:8001 --data "alive=y&un=$customer" &> /dev/null ;

done

else

echo "Wifi not connected";

fi

</code>

Copy down the above script in a text file and rename to internet.sh

<code lang="bash">

slynux@slynux-laptop:~$ chmod a+x  internet.sh 
slynux@slynux-laptop:~$ ./internet.sh 
Connected :)
</code>

This script has an initial check for ethernet interface. Here it is given Wifi interface, wlan0. If you use a LAN for connection change wlan0 to eth0 and the message as well :)

